# Bytecode Specs
Some temporary specs for the Koda Bytecode.
> x8 refers to a value with 8 bits i.e. a singular byte.  
> The same applies for x16 (short) and x32 (int).


### Instructions
| Idx | Code     | Name           | Parameters                                                                 | Description                                                                                                                                |
|-----|----------|----------------|----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| 0   | `0x0000` | Noop           |                                                                            | Does nothing                                                                                                                               |
| 1   | `0x0001` | Halt           |                                                                            | Stops execution                                                                                                                            |
| 2   | `0x0002` | Panic          |                                                                            | Triggers a core panic                                                                                                                      |
|     |          |                |                                                                            |                                                                                                                                            |
| 3   | `0x0100` | Increment      | Register (x8)                                                              | Increment the specified register                                                                                                           |
| 4   | `0x0101` | Decrement      | Register (x8)                                                              | Decrement the specified register                                                                                                           |
| 5   | `0x0102` | Store          | Register (x8), Value (x8)                                                  | Store Value into the specified register                                                                                                    |
| 6   | `0x0103` | Load           | Register (x8), Address (x16)                                               | Load the data in memory at Address into the specified register                                                                             |
|     |          |                |                                                                            |                                                                                                                                            |
| 7   | `0x0104` | Write          | Register (x8), Address (x16)                                               | Write the specified register into memory at Address                                                                                        |
| 8   | `0x0110` | Write State    | Register (x8)                                                              | Write the specified register into the state register                                                                                       |
|     |          |                |                                                                            |                                                                                                                                            |
| 9   | `0x0200` | Jump           | Address (x16)                                                              | Jump to the address                                                                                                                        |
| 10  | `0x0201` | Jump Compare   | Register (x8), Address (x16)                                               | Jump to the address if the compare register is equal to the specified register                                                             |
|     |          |                |                                                                            |                                                                                                                                            |
| 11  | `0x0300` | Compare        | Register A (x8), Register B (x8),                                          | Compare A to B and set the compare register accordingly                                                                                    |
| 12  | `0x0301` | Compare 16-bit | Register A1 (x8), Register A2 (x8),<br>Register B1 (x8), Register B2 (x8)  | Compare two 16-bit values. The values are each split into 2 registers.                                                                     |
|     |          |                |                                                                            |                                                                                                                                            |
| 13  | `0x0310` | Add            | Register A (x8), Register B (x8),<br> Output Register (x8)                 | Add B to A and store the result in the specified output register.                                                                          |
| 14  | `0x0311` | Subtract       | Register A (x8), Register B (x8),<br> Output Register (x8)                 | Subtract B from A and store the result in the specified output register.                                                                   |
| 15  | `0x0312` | Binary AND     | Register A (x8), Register B (x8),<br> Output Register (x8)                 | AND A with B and store the result in the specified output register.                                                                        |
| 16  | `0x0313` | Binary OR      | Register A (x8), Register B (x8),<br> Output Register (x8)                 | OR A with B and store the result in the specified output register.                                                                         |
| 17  | `0x0314` | Binary NOT     | Value (x8),<br> Output (x8)                                                | NOT the Value and store the result in the specified output register.                                                                       |
| 18  | `0x0315` | Binary XOR     | Register A (x8), Register B (x8),<br> Output Register (x8)                 | XOR A with B and store the result in the specified output register.                                                                        |
| 19  | `0x0316` | Shift Left     | Value (x8), Shift (x8),<br> Output Register (x8)                           | Perform a Left Shift on the Value and store the result in the specified output register.<br>Shift specifies the amount of bits to shift by. |
| 20  | `0x0317` | Shift Right    | Value (x8), Shift (x8),<br> Output Register (x8)                           | Perform a Right Shift on the Value and store the result in the specified output register.<br>Shift specifies the amount of bits to shift by. |
|     |          |                |                                                                            |                                                                                                                                            |
| 21  | `0x1000` | Platform Info  | Register (x8), Index (x8)                                                  | Get a platform info property and store it in the specified register.                                                                       |
| 22  | `0x1001` | External Call  | --                                                                         | Perform an external call. Parameters are platform specific.<br>All of the instruction data is passed to the external controller.           |